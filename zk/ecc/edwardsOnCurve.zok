from "ecc/babyjubjubParams" import BabyJubJubParams

/*
 * Modification of https://github.com/Zokrates/ZoKrates/blob/7fae54d598ad2a9240e4634acd2f58d7518d2190/zokrates_stdlib/stdlib/ecc/edwardsOnCurve.zok
 * that doesn't use an assert.
 */
def main(field[2] pt, BabyJubJubParams context) -> bool:

    field a = context.JUBJUB_A
    field d = context.JUBJUB_D

    field uu = pt[0] * pt[0]
    field vv = pt[1] * pt[1]
    field uuvv = uu * vv

    return a * uu + vv == 1 + d * uuvv
